// Generated by CoffeeScript 1.4.0
(function() {
  var selectTool, _base, _ref, _ref1;

  if ((_ref = this.tacit) == null) {
    this.tacit = {};
  }

  if ((_ref1 = (_base = this.tacit).tools) == null) {
    _base.tools = {};
  }

  selectTool = {
    mouseDown: function(easel, eventType, mouseLoc, object) {
      var after, before, idx, selection;
      if (eventType !== "background") {
        if (eventType === "node") {
          selection = easel.pad.sketch.selectedNodes;
        } else {
          selection = easel.pad.sketch.selectedLinks;
        }
        idx = selection.indexOf(object);
        if (idx === -1) {
          selection.push(object);
        } else {
          before = selection.slice(0, idx);
          after = selection[idx + 1];
          selection = before.concat(after);
        }
        if (eventType === "node") {
          easel.pad.sketch.selectedNodes = selection;
        } else {
          easel.pad.sketch.selectedLinks = selection;
        }
        return easel.pad.sketch.reposition_transition();
      }
    }
  };

  this.tacit.tools.select = selectTool;

}).call(this);
